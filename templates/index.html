{% extends 'partials/base.html' %}


{% block title %} Homepage {% endblock %}

{% block content %}
<!-- carousel -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">

    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>

    <div class="carousel-inner">
      <div class="carousel-item active" style="height:50vh">
        <img class="card-img" src="https://wallpapermemory.com/uploads/275/gangster-squad-wallpaper-hd-1200x720-321254.jpg" alt="First slide">
        <div class="card-img-overlay text-center text-light">
          <h1 class="card-title" style="color: rgba(202, 210, 197, 1);">Heavenly Media</h1>
          <p class="card-text" style="color: rgba(202, 210, 197, 1);">A <em>Social</em> Media Site</p>
          {% if not current_user %}
            <button class="btn">Sign Up</button>
          {% endif %}
        </div>
      </div>

      <div class="carousel-item  align-middle" style="height:50vh">
        <img class="card-img" src="https://wallpapercave.com/wp/wp2094040.jpg" alt="Second slide">
        <div class="card-img-overlay text-center text-light">
          <h1 class="card-title"style="color: rgba(202, 210, 197, 1);">Heavenly Media</h1>
          <p class="card-text"style="color: rgba(202, 210, 197, 1);">A <em>Social</em> Media Site</p>
          {% if not current_user %}
            <button class="btn">Sign Up</button>
          {% endif %}
        </div>
      </div>

      <div class="carousel-item" style="height:50vh">
        <img class="card-img" src="https://imgix.ranker.com/list_img_v2/13703/2653703/original/famous-movie-scenes-ripped-off-from-other-movies" alt="Third slide">
        <div class="card-img-overlay text-center text-light">
          <h1 class="card-title" style="color: rgba(202, 210, 197, 1);">Heavenly Media</h1>
          <p class="card-text" style="color: rgba(202, 210, 197, 1);">A <em>Social</em> Media Site</p>
          {% if not current_user %}
            <button class="btn">Sign Up</button>
          {% endif %}
        </div>
      </div>

    </div>

    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

<!-- for post in posts -->
<div class="container card mt-3">

    <!-- Media Carousel -->
    <div class="container">
      <h3 class="text-center">Media Trending Today</h3>
      <div id="trending-carousel" class="carousel slide carousel-multi-item my-3" data-ride="carousel">
        <div class="carousel-inner" role="listbox">
          <div class="carousel-item active">
            <div class="row">
              {% for media in trending_media[0:3] %}
                <div class="col-md-4">
                  <a href="{{ url_for('media_bp.show_media', media_id=media.id, media_type=media.media_type) }}">
                    <img class="d-block w-100" src="https://www.themoviedb.org/t/p/w1280/{{ media.poster_path }}" alt="{{ media.id }}">
                  </a>
                </div>
              {% endfor %}
            </div>
          </div>
          {% for media_row in trending_media[3:] | batch(3, '&nbsp;') %}
            <div class="carousel-item">
              <div class="row">
                {% for media in media_row %}
                  <div class="col-md-4">
                    <a href="{{ url_for('media_bp.show_media', media_id=media.id, media_type=media.media_type) }}">
                      <img class="d-block w-100" src="https://www.themoviedb.org/t/p/w1280/{{ media.poster_path }}" alt="{{ media.id }}">
                    </a>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#trending-carousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#trending-carousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>

      <!-- Movie Carousel -->
      <h3 class="text-center">Popular Movies</h3>
      <div id="movies-carousel" class="carousel slide carousel-multi-item my-3" data-ride="carousel">
        <div class="carousel-inner" role="listbox">
          <div class="carousel-item active">
            <div class="row">
              {% for movie in popular_movies[0:3] %}
                <div class="col-md-4">
                  
                  <a href="/media/movie/{{ movie.id }}/reviews">
                    <img class="d-block w-100" src="https://www.themoviedb.org/t/p/w1280/{{ movie.poster_path }}" alt="{{ movie.id }}">
                  </a>
                </div>
              {% endfor %}
            </div>
          </div>
          {% for movie_row in popular_movies[3:] | batch(3, '&nbsp;') %}
            <div class="carousel-item">
              <div class="row">
                {% for movie in movie_row %}
                  <div class="col-md-4">
                    <a href="/media/movie/{{ movie.id }}/reviews">
                      <img class="d-block w-100" src="https://www.themoviedb.org/t/p/w1280/{{ movie.poster_path }}" alt="{{ movie.id }}">
                    </a>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#movies-carousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#movies-carousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>

      <!-- Tv Show Carousel -->
      <h3 class="text-center">Popular Tv Shows</h3>
      <div id="tvshows-carousel" class="carousel slide carousel-multi-item my-3" data-ride="carousel">
        <div class="carousel-inner" role="listbox">
          <div class="carousel-item active">
            <div class="row">
              {% for show in popular_tvshows[0:3] %}
                <div class="col-md-4">
                  <a href="/media/tv/{{ show.id }}/reviews">
                    <img class="d-block w-100" src="https://www.themoviedb.org/t/p/w1280/{{ show.poster_path }}" alt="{{ show.id }}">
                  </a>
                </div>
              {% endfor %}
            </div>
          </div>
          {% for show_row in popular_tvshows[3:] | batch(3, '&nbsp;') %}
            <div class="carousel-item">
              <div class="row">
                {% for show in show_row %}
                  <div class="col-md-4">
                    <a href="/media/tv/{{ show.id }}/reviews">
                      <img class="d-block w-100" src="https://www.themoviedb.org/t/p/w1280/{{ show.poster_path }}" alt="{{ show.id }}">
                    </a>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#tvshows-carousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#tvshows-carousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <!-- action: watched, review, whatever -->
      <!-- movie: movie selected -->
    </div>


  </div>
</div>

<!-- SCRIPTS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
{% endblock %}